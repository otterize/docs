"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[760],{5680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>y});var a=n(6540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,y=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(y,r(r({ref:t},c),{},{components:n})):a.createElement(y,r({ref:t},c))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,r[1]=l;for(var u=2;u<o;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6401:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(8168),i=(n(6540),n(5680));const o={sidebar_position:2,title:"AWS resource mapping & IAM policy generation",image:"/img/quick-tutorials/aws-iam-visibility/social.png"},r=void 0,l={unversionedId:"features/aws-iam/tutorials/aws-visibility",id:"features/aws-iam/tutorials/aws-visibility",title:"AWS resource mapping & IAM policy generation",description:"Many production Kubernetes workloads rely on cloud resources, like S3 Buckets, RDS databases, and Lambda functions. In this tutorial, we will look at how Otterize provides visibility into the AWS resources called by your workloads.",source:"@site/docs/features/aws-iam/tutorials/aws-visibility.mdx",sourceDirName:"features/aws-iam/tutorials",slug:"/features/aws-iam/tutorials/aws-visibility",permalink:"/features/aws-iam/tutorials/aws-visibility",draft:!1,editUrl:"https://github.com/otterize/docs/edit/main/docs/features/aws-iam/tutorials/aws-visibility.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"AWS resource mapping & IAM policy generation",image:"/img/quick-tutorials/aws-iam-visibility/social.png"},sidebar:"docSidebar",previous:{title:"Automate AWS IAM for EKS",permalink:"/features/aws-iam/tutorials/aws-iam-eks"},next:{title:"Reference",permalink:"/features/aws-iam/reference"}},s={},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"CLI tools",id:"cli-tools",level:3},{value:"Create an EKS cluster",id:"create-an-eks-cluster",level:3},{value:"Enable AWS Visibility with Otterize Installation",id:"enable-aws-visibility-with-otterize-installation",level:3},{value:"Tutorial",id:"tutorial",level:2},{value:"Deploy two Lambda functions",id:"deploy-two-lambda-functions",level:3},{value:"Deploy server with access to Lambda functions",id:"deploy-server-with-access-to-lambda-functions",level:3},{value:"Applying Intents",id:"applying-intents",level:3},{value:"Visualize Relationships",id:"visualize-relationships",level:3},{value:"What&#39;s Next",id:"whats-next",level:3},{value:"Cleanup",id:"cleanup",level:2}],c={toc:u},d="wrapper";function p(e){let{components:t,...o}=e;return(0,i.yg)(d,(0,a.A)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"Many production Kubernetes workloads rely on cloud resources, like S3 Buckets, RDS databases, and Lambda functions. In this tutorial, we will look at how Otterize provides visibility into the AWS resources called by your workloads."),(0,i.yg)("p",null,"In this tutorial, we will:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Set up an EKS cluster."),(0,i.yg)("li",{parentName:"ul"},"Deploy two Lambda functions."),(0,i.yg)("li",{parentName:"ul"},"Deploy a server pod that retrieves a joke (as in, a string containing a joke ;) from a Lambda, provides a review, and posts the review to another Lambda."),(0,i.yg)("li",{parentName:"ul"},"Automatically detect and view the Lambda function calls in Otterize.")),(0,i.yg)("p",null,"By the end, you'll know how to map Kubernetes workloads alongside their dependent AWS resources using Otterize."),(0,i.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.yg)("h3",{id:"cli-tools"},"CLI tools"),(0,i.yg)("p",null,"We will need the following CLI tools to set up our cluster and deploy our scripts."),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"},"AWS CLI"),". You will also need credentials within the target account with permissions to work with EKS clusters, IAM, CloudFormation, and Lambda functions."),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("a",{parentName:"li",href:"https://eksctl.io/installation/"},"eksctl"))),(0,i.yg)("h3",{id:"create-an-eks-cluster"},"Create an EKS cluster"),(0,i.yg)("p",null,"Already have Otterize deployed with the IAM integration configured on your cluster? ",(0,i.yg)("a",{parentName:"p",href:"#tutorial"},"Skip to the tutorial.")),(0,i.yg)("p",null,"Begin by creating an EKS cluster for pod deployment using ",(0,i.yg)("strong",{parentName:"p"},"eksctl")," with the YAML configuration below:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"curl ${ABSOLUTE_URL}/code-examples/aws-visibility/eks-cluster.yaml | eksctl create cluster -f -\n")),(0,i.yg)("details",null,(0,i.yg)("summary",null,"Inspect eks-cluster.yaml contents"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: eksctl.io/v1alpha5\nkind: ClusterConfig\n\nmetadata:\n  name: otterize-tutorial-aws-visibility\n  region: us-west-2\n\niam:\n  withOIDC: true\n\nvpc:\n  clusterEndpoints:\n    publicAccess: true\n    privateAccess: true\n\naddons:\n  - name: vpc-cni\n    version: 1.14.0\n    attachPolicyARNs:\n      - arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy\n    configurationValues: |-\n      enableNetworkPolicy: "true"\n  - name: coredns\n  - name: kube-proxy\n\nmanagedNodeGroups:\n  - name: x86-al2-on-demand\n    amiFamily: AmazonLinux2\n    instanceTypes: [ "t3.large" ]\n    minSize: 0\n    desiredCapacity: 2\n    maxSize: 6\n    privateNetworking: true\n    disableIMDSv1: true\n    volumeSize: 100\n    volumeType: gp3\n    volumeEncrypted: true\n    tags:\n      team: "eks"\n'))),(0,i.yg)("p",null,"Next, update ",(0,i.yg)("strong",{parentName:"p"},"kubeconfig")," to link it with the new cluster:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"aws eks update-kubeconfig --name otterize-tutorial-aws-visibility --region 'us-west-2'\n")),(0,i.yg)("h3",{id:"enable-aws-visibility-with-otterize-installation"},"Enable AWS Visibility with Otterize Installation"),(0,i.yg)("p",null,"To provide visibility, we will need to install Otterize in our cluster, and we will want to enable AWS IAM roles for service accounts (IRSA) on our cluster. We can quickly enable this using a cloudformation template on the Otterize Cloud Integrations page."),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Install Otterize"),"\nIf you don't have a connected Kubernetes cluster, create one via ",(0,i.yg)("a",{parentName:"p",href:"https://app.otterize.com/integrations"},"Integrations page")," and follow the setup instructions for Kubernetes. Skip if your cluster is already connected.")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Integrate AWS with Otterize Cloud"),"\nTo begin the integration with AWS, visit the ",(0,i.yg)("a",{parentName:"p",href:"https://app.otterize.com/integrations"},"Integrations page"),". Once there, you will be asked for information to help populate a CloudFormation template we will use to set up roles and policies for the Otterize deployment in our cluster."))),(0,i.yg)("p",null,"If you created the EKS cluster above, the cluster name would be ",(0,i.yg)("inlineCode",{parentName:"p"},"otterize-tutorial-aws-visibility"),", and the region would be ",(0,i.yg)("inlineCode",{parentName:"p"},"us-west-2"),"."),(0,i.yg)("p",null,"Once the information is provided, a ",(0,i.yg)("em",{parentName:"p"},"Launch Cloudformation")," button will take you to the AWS Console to deploy the cloudformation script. This script will install IRSA within your EKS cluster and enable Otterize Cloud to manage intents."),(0,i.yg)("p",null,"After IRSA is enabled in your cluster, you need to redeploy Otterize with the AWS credential operator and AWS visibility enabled. In Otterize Cloud, click the ",(0,i.yg)("em",{parentName:"p"},"Next")," button to see the updated Helm commands. AWS Visibility is not enabled by default. Before executing the revised configuration, you will need to set an additional flag at the end of the command:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"--set networkMapper.aws.visibility.enabled=true\n")),(0,i.yg)("h2",{id:"tutorial"},"Tutorial"),(0,i.yg)("p",null,"Having configured our environment, we'll deploy AWS resources, authorize pod access using ClientIntents, and monitor access in Otterize Cloud."),(0,i.yg)("h3",{id:"deploy-two-lambda-functions"},"Deploy two Lambda functions"),(0,i.yg)("p",null,"First, we will deploy two Lambda functions (",(0,i.yg)("inlineCode",{parentName:"p"},"DadJokeLambdaFunction")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"FeedbackLambdaFunction"),"). These services will work alongside our server pod to generate a humor training dataset. This works by receiving a joke from the DadJokeLambdaFunction, the server pod reviewing the joke, and then sending the feedback to the FeedbackLambdaFunction."),(0,i.yg)("p",null,"We can deploy the lambda functions and their required roles with the following command:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"curl ${ABSOLUTE_URL}/code-examples/aws-visibility/cloudformation.yaml -o template.yaml && \\\naws cloudformation deploy --template-file template.yaml --stack-name OtterizeTutorialJokeTrainingStack --capabilities CAPABILITY_IAM --region 'us-west-2'\n")),(0,i.yg)("details",null,(0,i.yg)("summary",null,"Inspect CloudFormation YAML"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yaml"},"AWSTemplateFormatVersion: '2010-09-09'\nDescription: >-\n  Stack creates two Lambda functions for dad jokes and feedback, plus the user and related policies\n\nResources:\n  DadJokeLambdaExecutionRole:\n    Type: 'AWS::IAM::Role'\n    Properties:\n      AssumeRolePolicyDocument:\n        Version: '2012-10-17'\n        Statement:\n          - Effect: Allow\n            Principal:\n              Service: lambda.amazonaws.com\n            Action: 'sts:AssumeRole'\n      Policies:\n        - PolicyName: 'DadJokeLambdaExecutionPolicy'\n          PolicyDocument:\n            Version: '2012-10-17'\n            Statement:\n              - Effect: Allow\n                Action:\n                  - 'logs:CreateLogGroup'\n                  - 'logs:CreateLogStream'\n                  - 'logs:PutLogEvents'\n                Resource: 'arn:aws:logs:*:*:*'\n              - Effect: Allow\n                Action:\n                  - 'execute-api:Invoke'\n                Resource: '*'\n\n  DadJokeLambda:\n    Type: 'AWS::Lambda::Function'\n    Properties:\n      Handler: 'index.handler'\n      Role: !GetAtt DadJokeLambdaExecutionRole.Arn\n      Runtime: 'nodejs20.x'\n      Code:\n        ZipFile: |\n          const https = require('https');\n          exports.handler = async (event) => {\n            return new Promise((resolve, reject) => {\n              const options = {\n                hostname: 'icanhazdadjoke.com',\n                method: 'GET',\n                headers: { 'Accept': 'application/json' }\n              };\n              const req = https.request(options, (res) => {\n                let data = '';\n                res.on('data', (chunk) => {\n                  data += chunk;\n                });\n                res.on('end', () => {\n                  resolve({\n                    statusCode: 200,\n                    body: data,\n                    headers: { 'Content-Type': 'application/json' },\n                  });\n                });\n              });\n              req.on('error', (e) => {\n                reject({\n                  statusCode: 500,\n                  body: 'Error fetching dad joke',\n                });\n              });\n              req.end();\n            });\n          };\n      Timeout: 10\n\n  FeedbackLambda:\n    Type: 'AWS::Lambda::Function'\n    Properties:\n      Handler: 'index.handler'\n      Role: !GetAtt DadJokeLambdaExecutionRole.Arn\n      Runtime: 'nodejs20.x'\n      Code:\n        ZipFile: |\n          exports.handler = async (event) => {\n              const payload = JSON.parse(event.body);\n\n              const joke = payload.joke;\n              const isFunny = payload.funny;\n\n              console.log(\"Joke:\", joke);\n              console.log(\"Is it funny?\", isFunny);\n\n              return {\n                  statusCode: 200,\n                  body: JSON.stringify({ message: \"Feedback received, Adding To Training Set\" }),\n              };\n          };\n      Timeout: 10\n\nOutputs:\n  DadJokeLambdaFunction:\n    Description: \"Dad Joke Lambda Function ARN\"\n    Value: !GetAtt DadJokeLambda.Arn\n\n  FeedbackLambdaFunction:\n    Description: \"Feedback Lambda Function ARN\"\n    Value: !GetAtt FeedbackLambda.Arn\n\n\n"))),(0,i.yg)("h3",{id:"deploy-server-with-access-to-lambda-functions"},"Deploy server with access to Lambda functions"),(0,i.yg)("p",null,"Now that our Lambdas are deployed, we want to deploy our server pod within our cluster and point it to our two Lambda functions. In the commands below, we will create a configmap to hold our functions ARNs and pass the map into our deployment YAML."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"\nkubectl create namespace otterize-tutorial-aws-visibility\n\nDAD_JOKE_LAMBDA_ARN=$(aws cloudformation describe-stacks --region 'us-west-2' --stack-name OtterizeTutorialJokeTrainingStack --query \"Stacks[0].Outputs[?OutputKey=='DadJokeLambdaFunction'].OutputValue\" --output text)\nFEEDBACK_LAMBDA_ARN=$(aws cloudformation describe-stacks --region 'us-west-2' --stack-name OtterizeTutorialJokeTrainingStack --query \"Stacks[0].Outputs[?OutputKey=='FeedbackLambdaFunction'].OutputValue\" --output text)\n\nkubectl create configmap lambda-arns \\\n  --from-literal=dadJokeLambdaArn=$DAD_JOKE_LAMBDA_ARN \\\n  --from-literal=feedbackLambdaArn=$FEEDBACK_LAMBDA_ARN \\\n  -n otterize-tutorial-aws-visibility\n\nkubectl apply -n otterize-tutorial-aws-visibility -f ${ABSOLUTE_URL}/code-examples/aws-visibility/all.yaml\n")),(0,i.yg)("details",null,(0,i.yg)("summary",null,"Inspect deployment YAML"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: joketrainer\n  namespace: otterize-tutorial-aws-visibility\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: joketrainer\n  template:\n    metadata:\n      labels:\n        app: joketrainer\n        network-mapper.otterize.com/aws-visibility: "true"\n        credentials-operator.otterize.com/create-aws-role: "true"\n    spec:\n      containers:\n        - name: joketrainer\n          image: otterize/aws-visibility-tutorial:latest\n          env:\n            - name: DAD_JOKE_LAMBDA_ARN\n              valueFrom:\n                configMapKeyRef:\n                  name: lambda-arns\n                  key: dadJokeLambdaArn\n            - name: FEEDBACK_LAMBDA_ARN\n              valueFrom:\n                configMapKeyRef:\n                  name: lambda-arns\n                  key: feedbackLambdaArn\n\n'))),(0,i.yg)("p",null,"Inspecting our deployment YAML, you will see we have added two labels to our pod. The first ",(0,i.yg)("inlineCode",{parentName:"p"},"network-mapper.otterize.com/aws-visibility")," informs the network mapper to identify AWS API calls, and the ",(0,i.yg)("inlineCode",{parentName:"p"},"credentials-operator.otterize.com/create-aws-role")," that drives the credentials operator to create a role specifically for this pod that will be used for our intents."),(0,i.yg)("p",null,"Once our pod is deployed, we can inspect the logs and see that we cannot access the Lambda functions."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"kubectl logs -f -n otterize-tutorial-aws-visibility deploy/joketrainer\n")),(0,i.yg)("p",null,"Sample output:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"invoke error, operation error Lambda: Invoke, https response error StatusCode: 403, RequestID: a3bab063-dfb0-49e3-b466-0069807c56fa, api error AccessDeniedException: User: arn:aws:sts::12345678910:assumed-role/otr-otterize-tutorial-aws-visibility.default@otterize-tut-ecfd9d/12345678910 is not authorized to perform: lambda:InvokeFunction on resource: arn:aws:lambda:us-west-2:12345678910:function:OtterizeTutorialJokeTrainingStack-DadJokeLambda-dnNYqlwipYxG because no identity-based policy allows the lambda:InvokeFunction action\n")),(0,i.yg)("h3",{id:"applying-intents"},"Applying Intents"),(0,i.yg)("p",null,"We can apply an intent for our pod to be able to call the Lambda functions created by our cloudformation stack."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -n otterize-tutorial-aws-visibility -f ${ABSOLUTE_URL}/code-examples/aws-visibility/intents.yaml\n")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: k8s.otterize.com/v1alpha3\nkind: ClientIntents\nmetadata:\n  name: server\nspec:\n  service:\n    name: joketrainer\n  calls:\n    - name: arn:aws:lambda:us-west-2:*:function:OtterizeTutorialJokeTrainingStack-*\n      type: aws\n      awsActions:\n        - "lambda:InvokeFunction"\n')),(0,i.yg)("p",null,"We can now recheck the logs to ensure that the pod is running:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"kubectl logs -f -n otterize-tutorial-aws-visibility deploy/joketrainer\n")),(0,i.yg)("p",null,"Example output:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Joke: People saying 'boo! to their friends has risen by 85% in the last year.... That's a frightening statistic.\nSending Feedback of Funny?: Yes\nJoke: Have you ever heard of a music group called Cellophane? They mostly wrap.\nSending Feedback of Funny?: Yes\nJoke: What did Yoda say when he saw himself in 4K? \"HDMI\"\nSending Feedback of Funny?: No\n\n")),(0,i.yg)("h3",{id:"visualize-relationships"},"Visualize Relationships"),(0,i.yg)("p",null,"The Otterize network mapper inspects pods with the ",(0,i.yg)("inlineCode",{parentName:"p"},"network-mapper.otterize.com/aws-visibility: true")," label. For the labeled pods, the network mapper will identify AWS API calls made by that pod and determine which resources and actions are being used. This information is shown on the ",(0,i.yg)("a",{parentName:"p",href:"https://app.otterize.com/access-graph"},"Access graph"),"."),(0,i.yg)("p",null,"In the Access graph screenshot below, you\u2019ll see 4 AWS resources associated with our ",(0,i.yg)("em",{parentName:"p"},"joketrainer")," pod: ",(0,i.yg)("em",{parentName:"p"},"DadJokeLambdaFunction"),", ",(0,i.yg)("em",{parentName:"p"},"FeedbackLambdaFunction"),", the role assumed by our server pod, and our wildcard intent definition. This wildcard definition matches any Lambdas created by our cloudformation stack. These types of wildcard definitions can be helpful for AWS Resources with dynamic ARN names as you move across staging and production deployments. Still, they open up a security space that could be overly permissive for some environments. Otterize makes deploying with a wildcard definition easy and then applying more stringent authorization without disrupting any services."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Otterize Cloud AWS Visibility Example",src:n(6792).A,width:"3384",height:"2412"})),(0,i.yg)("h3",{id:"whats-next"},"What's Next"),(0,i.yg)("p",null,"Now that we've discovered the AWS resources used within a Kubernetes workload, you can learn more about how you can manage access to these resources with Otterize in the ",(0,i.yg)("a",{parentName:"p",href:"/features/aws-iam/tutorials/aws-iam-eks"},"Automate AWS IAM for EKS")," tutorial."),(0,i.yg)("h2",{id:"cleanup"},"Cleanup"),(0,i.yg)("p",null,"To remove the deployed example:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"kubectl delete namespace otterize-tutorial-aws-visibility\n")),(0,i.yg)("p",null,"To remove the Lambda functions:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"aws cloudformation delete-stack --stack-name OtterizeTutorialJokeTrainingStack\n")),(0,i.yg)("p",null,"To remove the EKS cluster:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"eksctl delete cluster --name otterize-tutorial-aws-visibility --region us-west-2\n")))}p.isMDXComponent=!0},6792:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/aws-iam-visibility-e8edb85adfe585993fcc65f0705ec9eb.png"}}]);