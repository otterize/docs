"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7718],{5680:(e,n,a)=>{a.d(n,{xA:()=>p,yg:()=>u});var t=a(6540);function l(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){l(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function o(e,n){if(null==e)return{};var a,t,l=function(e,n){if(null==e)return{};var a,t,l={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(l[a]=e[a]);return l}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=t.createContext({}),g=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},p=function(e){var n=g(e.components);return t.createElement(s.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},y=t.forwardRef((function(e,n){var a=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=g(a),y=l,u=d["".concat(s,".").concat(y)]||d[y]||m[y]||i;return a?t.createElement(u,r(r({ref:n},p),{},{components:a})):t.createElement(u,r({ref:n},p))}));function u(e,n){var a=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=y;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[d]="string"==typeof e?e:l,r[1]=o;for(var g=2;g<i;g++)r[g]=a[g];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}y.displayName="MDXCreateElement"},4127:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>g});var t=a(8168),l=(a(6540),a(5680));const i={sidebar_position:7,title:"Differences between v1 and v2"},r=void 0,o={unversionedId:"reference/ClientIntents CRD/migrateToV2",id:"reference/ClientIntents CRD/migrateToV2",title:"Differences between v1 and v2",description:"ClientIntents v2 is a new version of the ClientIntents Custom Resource Definition (CRD) specification. It introduces several changes to the structure and fields of the ClientIntents CRD.",source:"@site/docs/reference/ClientIntents CRD/migrateToV2.mdx",sourceDirName:"reference/ClientIntents CRD",slug:"/reference/ClientIntents CRD/migrateToV2",permalink:"/reference/ClientIntents CRD/migrateToV2",draft:!1,editUrl:"https://github.com/otterize/docs/edit/main/docs/reference/ClientIntents CRD/migrateToV2.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Differences between v1 and v2"},sidebar:"docSidebar",previous:{title:"ClientIntents CRD",permalink:"/reference/ClientIntents CRD/"},next:{title:"Terminology",permalink:"/reference/terminology/"}},s={},g=[{value:"Overview of Key Differences",id:"overview-of-key-differences",level:2},{value:"<code>service</code> (Renamed to <code>workload</code>)",id:"service-renamed-to-workload",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3",level:4},{value:"<code>v2beta1</code>",id:"v2beta1",level:4},{value:"<code>calls</code> (Renamed to <code>targets</code>)",id:"calls-renamed-to-targets",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-1",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-1",level:4},{value:"Inter Service Communication",id:"inter-service-communication",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-2",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-2",level:4},{value:"HTTP Resources (Simplified)",id:"http-resources-simplified",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-3",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-3",level:4},{value:"Kafka (No Major Changes)",id:"kafka-no-major-changes",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-4",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-4",level:4},{value:"SQL Databases (Renamed to <code>sql</code>)",id:"sql-databases-renamed-to-sql",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-5",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-5",level:4},{value:"AWS",id:"aws",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-6",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-6",level:4},{value:"Azure",id:"azure",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-7",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-7",level:4},{value:"GCP (Unified and Relocated)",id:"gcp-unified-and-relocated",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-8",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-8",level:4},{value:"Internet (No changes)",id:"internet-no-changes",level:3},{value:"<code>v1alpha3</code>",id:"v1alpha3-9",level:4},{value:"<code>v2beta1</code>",id:"v2beta1-9",level:4},{value:"Summary",id:"summary",level:3}],p={toc:g},d="wrapper";function m(e){let{components:n,...a}=e;return(0,l.yg)(d,(0,t.A)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,l.yg)("p",null,"ClientIntents v2 is a new version of the ",(0,l.yg)("inlineCode",{parentName:"p"},"ClientIntents")," Custom Resource Definition (CRD) specification. It introduces several changes to the structure and fields of the ",(0,l.yg)("inlineCode",{parentName:"p"},"ClientIntents")," CRD.\nThe key differences is that the term ",(0,l.yg)("inlineCode",{parentName:"p"},"service")," is no longer used except exclusively to refer to a Kubernetes ",(0,l.yg)("inlineCode",{parentName:"p"},"Service"),", and ",(0,l.yg)("inlineCode",{parentName:"p"},"workload")," is used instead to refer to workloads that run on your infrastructure.\nThe ",(0,l.yg)("inlineCode",{parentName:"p"},"calls")," section has been renamed ",(0,l.yg)("inlineCode",{parentName:"p"},"targets")," and now makes more sense when it is applied to non-network resources such as an AWS S3 bucket or a database."),(0,l.yg)("p",null,"It is now also possible to target a specific kind of Kubernetes resource, such as a ",(0,l.yg)("inlineCode",{parentName:"p"},"Deployment")," or a ",(0,l.yg)("inlineCode",{parentName:"p"},"StatefulSet"),", and to specify the kind of resource that is being targeted, whereas before the way to do this was ambiguous and not obvious from the syntax."),(0,l.yg)("p",null,"Starting version 5.0.0 of the ",(0,l.yg)("inlineCode",{parentName:"p"},"otterize-kubernetes")," Helm chart, released on January 26th 2025, ClientIntents v2 is the default format."),(0,l.yg)("h1",{id:"clientintents-differences-between-v1alpha3-and-v2beta1"},"ClientIntents: Differences between v1alpha3 and v2beta1"),(0,l.yg)("p",null,"This document highlights the differences in the ",(0,l.yg)("inlineCode",{parentName:"p"},"ClientIntents")," Custom Resource Definition (CRD) specification between ",(0,l.yg)("inlineCode",{parentName:"p"},"v1alpha3")," and ",(0,l.yg)("inlineCode",{parentName:"p"},"v2beta1"),". It provides a detailed breakdown of each part of the ",(0,l.yg)("inlineCode",{parentName:"p"},"spec")," and outlines what has changed."),(0,l.yg)("h2",{id:"overview-of-key-differences"},"Overview of Key Differences"),(0,l.yg)("p",null,"The ",(0,l.yg)("inlineCode",{parentName:"p"},"v2beta1")," version introduces:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"More structured and streamlined target definitions."),(0,l.yg)("li",{parentName:"ul"},"Unified field names for consistency across all target types."),(0,l.yg)("li",{parentName:"ul"},"Simplifications in defining certain resource-specific details.")),(0,l.yg)("h3",{id:"service-renamed-to-workload"},(0,l.yg)("inlineCode",{parentName:"h3"},"service")," (Renamed to ",(0,l.yg)("inlineCode",{parentName:"h3"},"workload"),")"),(0,l.yg)("h4",{id:"v1alpha3"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"service:\n  name: <string>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the name of the client workload initiating requests.")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines the client workload initiating requests."),(0,l.yg)("h4",{id:"v2beta1"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"workload:\n  name: <string>\n  kind: <string>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Name of the client workload initiating requests."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"kind"),": The type of workload, such as ",(0,l.yg)("inlineCode",{parentName:"li"},"Deployment")," or ",(0,l.yg)("inlineCode",{parentName:"li"},"StatefulSet"),".")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"The field is renamed from ",(0,l.yg)("inlineCode",{parentName:"li"},"service")," to ",(0,l.yg)("inlineCode",{parentName:"li"},"workload"),"."),(0,l.yg)("li",{parentName:"ul"},"A new ",(0,l.yg)("inlineCode",{parentName:"li"},"kind")," field is added to specify the workload type (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"Deployment"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"StatefulSet"),").")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"calls-renamed-to-targets"},(0,l.yg)("inlineCode",{parentName:"h3"},"calls")," (Renamed to ",(0,l.yg)("inlineCode",{parentName:"h3"},"targets"),")"),(0,l.yg)("h4",{id:"v1alpha3-1"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <string>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the  target resource (e.g., service name, ARN, scope).")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines the resources that the workload interacts with."),(0,l.yg)("h4",{id:"v2beta1-1"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - <target-type>:\n      ...\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"The field is renamed from ",(0,l.yg)("inlineCode",{parentName:"li"},"calls")," to ",(0,l.yg)("inlineCode",{parentName:"li"},"targets"),"."),(0,l.yg)("li",{parentName:"ul"},"Targets are explicitly categorized into resource types (",(0,l.yg)("inlineCode",{parentName:"li"},"kubernetes"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"service"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"kafka"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"sql"),", etc.)."),(0,l.yg)("li",{parentName:"ul"},"Each target type now has its own structured definition.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"inter-service-communication"},"Inter Service Communication"),(0,l.yg)("h4",{id:"v1alpha3-2"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"cals:\n  - name: <name>[.<namespace>]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the target service name (and optional namespace).It represents the resource owning the pods of the target service (such as Deployment, StatefulSet, etc.).")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines the target service for inter-service communication (will be translated to NetworkPolicies or mesh policies)."),(0,l.yg)("h4",{id:"v2beta1-2"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - kubernetes:\n      name: <string>[.<namespace>]\n      kind: <string>\n  - service:\n      name: <string>[.<namespace>]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"kubernetes"),": Target is a Kubernetes resource.",(0,l.yg)("ul",{parentName:"li"},(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": The name of the target Kubernetes resource."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"kind"),": The kind of Kubernetes resource (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"Deployment"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"StatefulSet"),")."))),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"service"),": Target is a Kubernetes Service. It's equivalent to the ",(0,l.yg)("inlineCode",{parentName:"li"},"kubernetes")," target with ",(0,l.yg)("inlineCode",{parentName:"li"},"kind: Service"),".",(0,l.yg)("ul",{parentName:"li"},(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": The name of the target Service.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"- Explicitly defines the target resource type (Kubernetes resource or Service).\n")),(0,l.yg)("h3",{id:"http-resources-simplified"},"HTTP Resources (Simplified)"),(0,l.yg)("h4",{id:"v1alpha3-3"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <string>\n    HTTPResources:\n      - path: <string>\n        methods: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines HTTP resources accessed by the workload."),(0,l.yg)("h4",{id:"v2beta1-3"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - kubernetes:\n      name: <string>\n      kind: Service\n      http:\n        - path: <string>\n          methods: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"HTTPResources")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"http")," under the respective target type (",(0,l.yg)("inlineCode",{parentName:"li"},"kubernetes")," or ",(0,l.yg)("inlineCode",{parentName:"li"},"service"),")."),(0,l.yg)("li",{parentName:"ul"},"This change simplifies the hierarchy and aligns HTTP definitions with other target-specific fields.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"kafka-no-major-changes"},"Kafka (No Major Changes)"),(0,l.yg)("h4",{id:"v1alpha3-4"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <string>\n    kafkaTopics:\n      - name: <string>\n        operations: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the Kafka cluster name."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"kafkaTopics"),": A list of Kafka topics with associated operations."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Name of the topic."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"operations"),": Allowed operations on the topic (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"produce"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"consume"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Represents the interaction with Kafka clusters."),(0,l.yg)("h4",{id:"v2beta1-4"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - kafka:\n      name: <string>\n      topics:\n        - name: <string>\n          operations: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"kafka"),": Represents Kafka Target."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": The name of the Kafka cluster."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"topics"),": A list of Kafka topics and allowed operations."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": The name of the topic."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"operations"),": Allowed operations on the topic (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"produce"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"consume"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"Structurally, Kafka definitions remain the same.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"sql-databases-renamed-to-sql"},"SQL Databases (Renamed to ",(0,l.yg)("inlineCode",{parentName:"h3"},"sql"),")"),(0,l.yg)("h4",{id:"v1alpha3-5"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <string>\n    databaseResources:\n      - databaseName: <string>\n        table: <string>\n        operations: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the SQL database target."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"databaseResources"),": A list of database-specific resources."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"databaseName"),": The name of the target database."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"table"),": The table within the database."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"operations"),": Allowed operations (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"SELECT"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"INSERT"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines SQL database targets and operations."),(0,l.yg)("h4",{id:"v2beta1-5"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - sql:\n      name: <string>\n      privileges:\n        - databaseName: <string>\n          table: <string>\n          operations: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"sql"),": Represents SQL database targets."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": The name of the SQL database."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"privileges"),": A list of database-specific privileges."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"databaseName"),": The name of the target database."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"table"),": The name of the table within the database."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"operations"),": Allowed SQL operations (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"SELECT"),", ",(0,l.yg)("inlineCode",{parentName:"li"},"INSERT"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"databaseResources")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"sql"),"."),(0,l.yg)("li",{parentName:"ul"},"The field ",(0,l.yg)("inlineCode",{parentName:"li"},"privileges")," replaces ",(0,l.yg)("inlineCode",{parentName:"li"},"databaseResources")," for improved clarity.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"aws"},"AWS"),(0,l.yg)("h4",{id:"v1alpha3-6"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <ARN>\n    awsActions:\n      - <string>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the Amazon Resource Name (ARN) of the target."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"awsActions"),": A list of allowed actions for AWS resources (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"s3:GetObject"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines AWS permissions and target resources."),(0,l.yg)("h4",{id:"v2beta1-6"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - aws:\n      arn: <string>\n      actions: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"aws"),": Represents AWS-specific targets."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"arn"),": The Amazon Resource Name (ARN) of the target resource."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"actions"),": List of allowed AWS actions (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"s3:GetObject"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"awsActions")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"actions")," within an ",(0,l.yg)("inlineCode",{parentName:"li"},"aws")," block."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"arn"),", explicitly defining the target resource.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"azure"},"Azure"),(0,l.yg)("h4",{id:"v1alpha3-7"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <scope>\n    azureRoles:\n      - <string>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the Azure resource scope."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"azureRoles"),": A list of roles assigned to the Azure target.")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines Azure permissions and target resources."),(0,l.yg)("h4",{id:"v2beta1-7"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - azure:\n      scope: <string>\n      roles: [<string>, ...]\n      actions: [<string>, ...]\n      dataActions: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"azure"),": Represents Azure-specific targets."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"scope"),": The Azure resource scope."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"roles"),": List of Azure roles."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"actions"),": List of allowed Azure actions."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"dataActions"),": List of Azure data-specific actions.")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"azureRoles")," is now supported as ",(0,l.yg)("inlineCode",{parentName:"li"},"roles"),", maintaining backward compatibility."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"actions")," and ",(0,l.yg)("inlineCode",{parentName:"li"},"dataActions")," are introduced for finer-grained permissions, aligning with Azure's least privilege mapping feature."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"scope"),", explicitly defining the Azure resource target.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"gcp-unified-and-relocated"},"GCP (Unified and Relocated)"),(0,l.yg)("h4",{id:"v1alpha3-8"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <string>\n    gcpPermissions:\n      - <string>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the GCP resource identifier."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"gcpPermissions"),": A list of allowed permissions for the GCP resource.")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Defines GCP permissions and target resources."),(0,l.yg)("h4",{id:"v2beta1-8"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - gcp:\n      resource: <string>\n      permissions: [<string>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"gcp"),": Represents GCP-specific targets."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"resource"),": The GCP resource identifier."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"permissions"),": List of allowed GCP permissions (e.g., ",(0,l.yg)("inlineCode",{parentName:"li"},"storage.objects.get"),").")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"gcpPermissions")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"permissions")," within a ",(0,l.yg)("inlineCode",{parentName:"li"},"gcp")," block."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name")," is replaced by ",(0,l.yg)("inlineCode",{parentName:"li"},"resource"),", explicitly defining the target resource.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"internet-no-changes"},"Internet (No changes)"),(0,l.yg)("h4",{id:"v1alpha3-9"},(0,l.yg)("inlineCode",{parentName:"h4"},"v1alpha3")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"calls:\n  - name: <string>\n    internet:\n      domains:\n        - <string>\n      ips:\n        - <string>\n      ports:\n        - <integer>\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"name"),": Represents the name of the internet-based target."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"internet"),": Defines internet-based targets."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"domains"),": A list of allowed domains."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ips"),": A list of allowed IP addresses."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ports"),": A list of allowed ports.")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Purpose"),": Supports defining internet-based targets for workload interactions."),(0,l.yg)("h4",{id:"v2beta1-9"},(0,l.yg)("inlineCode",{parentName:"h4"},"v2beta1")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-yaml"},"targets:\n  - internet:\n      domains: [<string>, ...]\n      ips: [<string>, ...]\n      ports: [<integer>, ...]\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Fields"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"internet"),": Represents internet-based targets."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"domains"),": List of allowed domains."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ips"),": List of allowed IP addresses."),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ports"),": List of allowed ports.")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Changes"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"No structural changes. The ",(0,l.yg)("inlineCode",{parentName:"li"},"internet")," block remains the same.")),(0,l.yg)("hr",null),(0,l.yg)("h3",{id:"summary"},"Summary"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Feature"),(0,l.yg)("th",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"th"},"v1alpha3")),(0,l.yg)("th",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"th"},"v2beta1")))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"Client Workload"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"service.name")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"workload.name"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"workload.kind"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"Target Field"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"calls")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"targets"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"HTTP Resources"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"HTTPResources")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"http"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"Kafka"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"kafkaTopics")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"topics"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"SQL Databases"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"databaseResources")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"sql.privileges"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"AWS"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"name"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"awsActions")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"arn"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"actions"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"Azure"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"name"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"azureRoles")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"scope"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"actions"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"dataActions"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"GCP"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"name"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"gcpPermissions")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"resource"),", ",(0,l.yg)("inlineCode",{parentName:"td"},"permissions"))),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"Internet"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"internet")),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"internet"))))))}m.isMDXComponent=!0}}]);