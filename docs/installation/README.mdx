---
sidebar_position: 4
title: Installation
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<details>
<summary>Make sure you have a cluster that supports network policies</summary>

Before you start, you need to have a Kubernetes cluster with a [CNI](https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/) that supports [NetworkPolicies](https://kubernetes.io/docs/concepts/services-networking/network-policies/).

{@include: ../_common/cluster-setup.md}
</details>

## Install Otterize
{@include: ../_common/install-otterize.md}

### Upgrade Otterize
{@include: ../_common/upgrade-otterize.md}

## Connect Otterize OSS to Otterize Cloud
To connect Otterize OSS to Otterize Cloud you will need to [login](https://app.otterize.com), create a cluster, and follow the instructions.

The Otterize Cloud will provide you with a *client id* and a *client secret* which you will need to run the following command:
<Tabs>
<TabItem value="cloud-credentials" label="Cloud managed credentials" default>

:::note
Using cloud managed credentials will change any locally managed credentials to be managed and provisioned by Otterize Cloud.
:::
<Tabs>
<TabItem value="enforcement-disabled" label="Enforcement disabled" default>

```shell
helm upgrade --install otterize otterize/otterize-kubernetes \
-n otterize-system --create-namespace \
--set global.otterizeCloud.credentials.clientId=client_id \
--set global.otterizeCloud.credentials.clientSecret=client_secret \
--set intentsOperator.operator.enableEnforcement=false \
--set credentialsOperator.useOtterizeCloud=true
```
</TabItem>
<TabItem value="enforcement-enabled" label="Enforcement enabled" default>

```shell
helm upgrade --install otterize otterize/otterize-kubernetes \
-n otterize-system --create-namespace \
--set global.otterizeCloud.credentials.clientId=client_id \
--set global.otterizeCloud.credentials.clientSecret=client_secret \
--set credentialsOperator.useOtterizeCloud=true
```
</TabItem>
</Tabs>
</TabItem>
<TabItem value="local-credentials" label="Locally managed credentials" default>
<Tabs>
<TabItem value="enforcement-disabled" label="Enforcement disabled" default>

```shell
helm upgrade --install otterize otterize/otterize-kubernetes \
-n otterize-system --create-namespace \
--set global.otterizeCloud.credentials.clientId=client_id \
--set global.otterizeCloud.credentials.clientSecret=client_secret \
--set intentsOperator.operator.enableEnforcement=false
```
</TabItem>
<TabItem value="enforcement-enabled" label="Enforcement enabled" default>

```shell
helm upgrade --install otterize otterize/otterize-kubernetes \
-n otterize-system --create-namespace \
--set global.otterizeCloud.credentials.clientId=client_id \
--set global.otterizeCloud.credentials.clientSecret=client_secret
```
</TabItem>
</Tabs>
</TabItem>
</Tabs>

## Install the Otterize CLI

To install (or upgrade) the Otterize CLI run

{@include: ../_common/install-otterize-cli.md}


## Uninstall Otterize
### Before uninstalling
Before uninstalling Otterize, you should make sure to delete any resources created by users: `ClientIntents` and `KafkaServerConfig`s.

When you remove these resources, the Intents Operator will clean up network policies and Kafka ACLs it created. If you remove the operator before doing so, it will not be able to clean up.

If, however, you want the network policies and ACLs to stay in place (because you're redeploying with different configuration, for example), don't remove them.

1. First check if any `ClientIntents` exist: `kubectl get clientintents --all-namespaces`
2. If so, remove them.
3. Check if any `KafkaServerConfig`s exist: `kubectl get kafkaserverconfig --all-namespaces`
4. If so, remove them.

It's important to remove `ClientIntents` before removing `KafkaServerConfig`s, as once you remove the `KafkaServerConfig` for a Kafka cluster, the intents operator will no longer know how to connect to it and perform cleanup.

### Uninstallation
```bash
helm uninstall otterize -n otterize-system
```