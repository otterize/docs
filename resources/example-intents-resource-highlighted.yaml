apiVersion: k8s.otterize.com/v1alpha3
kind: ClientIntents
metadata:
  name: checkoutservice
spec:
  // highlight-start
  service:
    name: checkoutservice
  calls:
    - name: emailservice
      type: http
    - name: orderservice
      type: http
      httpResources:
        - path: /orders/*
          methods: [ get, post ]
    - name: ecomm-events
      type: kafka
      kafkaTopics:
        - name: orders
          operations: [ produce ]
  // highlight-end